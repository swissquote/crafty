# Snapshot report for `__tests__/crafty-preset-typescript-gulp.js`

The actual snapshot is saved in `crafty-preset-typescript-gulp.js.snap`.

Generated by [AVA](https://avajs.dev).

## Compiles TypeScript

> Snapshot 1

    {
      status: 0,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/compiles/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__] Finished 'js_myBundle' after ____ ms␊
      [__:__:__] Finished 'js' after ____ ms␊
      [__:__:__] Finished 'default' after ____ ms␊
      `,
    }

> Snapshot 2

    `import test from "./Component";␊
    export default class NewStuff {␊
      constructor() {␊
        // eslint-disable-next-line no-console␊
        console.log("init class");␊
      }␊
    ␊
      method() {␊
        // eslint-disable-next-line no-console␊
        console.log(test(2, 4));␊
        import("./SomeLibrary").then(SomeLibrary => {␊
          const som = new SomeLibrary.default(); // eslint-disable-next-line no-console␊
    ␊
          console.log(som.add(2, 4));␊
        });␊
      }␊
    ␊
    }␊
    //# sourceMappingURL=script.js.map␊
    `

> Snapshot 3

    `export default function test(a, b) {␊
      return a + b;␊
    }␊
    //# sourceMappingURL=Component.js.map␊
    `

## Compiles TypeScript, keeps runtime external

> Snapshot 1

    {
      status: 0,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/compiles-import-runtime/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__] Finished 'js_myBundle' after ____ ms␊
      [__:__:__] Finished 'js' after ____ ms␊
      [__:__:__] Finished 'default' after ____ ms␊
      `,
    }

> Snapshot 2

    `import _classCallCheck from "@babel/runtime/helpers/classCallCheck";␊
    import _createClass from "@babel/runtime/helpers/createClass";␊
    import test from "./Component";␊
    ␊
    var NewStuff = /*#__PURE__*/function () {␊
      function NewStuff() {␊
        _classCallCheck(this, NewStuff);␊
    ␊
        // eslint-disable-next-line no-console␊
        console.log("init class");␊
      }␊
    ␊
      _createClass(NewStuff, [{␊
        key: "method",␊
        value: function method() {␊
          // eslint-disable-next-line no-console␊
          console.log(test(2, 4));␊
          import("./SomeLibrary").then(function (SomeLibrary) {␊
            var som = new SomeLibrary.default(); // eslint-disable-next-line no-console␊
    ␊
            console.log(som.add(2, 4));␊
          });␊
        }␊
      }]);␊
    ␊
      return NewStuff;␊
    }();␊
    ␊
    export { NewStuff as default };␊
    //# sourceMappingURL=script.js.map␊
    `

> Snapshot 3

    `export default function test(a, b) {␊
      return a + b;␊
    }␊
    //# sourceMappingURL=Component.js.map␊
    `

## Compiles TypeScript and concatenates

> Snapshot 1

    {
      status: 0,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/concatenates/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__] Finished 'js_myBundle' after ____ ms␊
      [__:__:__] Finished 'js' after ____ ms␊
      [__:__:__] Finished 'default' after ____ ms␊
      `,
    }

> Snapshot 2

    `export default function test(a, b) {␊
      return a + b;␊
    }␊
    export default class SomeLibrary {␊
      add(a, b) {␊
        return a + b;␊
      }␊
    ␊
      substract(a, b) {␊
        return a - b;␊
      }␊
    ␊
      divide(a, b) {␊
        return a / b;␊
      }␊
    ␊
    }␊
    import test from "./Component";␊
    export default class NewStuff {␊
      constructor() {␊
        // eslint-disable-next-line no-console␊
        console.log("init class");␊
      }␊
    ␊
      method() {␊
        // eslint-disable-next-line no-console␊
        console.log(test(2, 4));␊
        import("./SomeLibrary").then(SomeLibrary => {␊
          const som = new SomeLibrary.default(); // eslint-disable-next-line no-console␊
    ␊
          console.log(som.add(2, 4));␊
        });␊
      }␊
    ␊
    }␊
    //# sourceMappingURL=myBundle.min.js.map␊
    `

## Fails gracefully on broken markup

> Snapshot 1

    {
      status: 1,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/fails/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__]␊
      __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/fails/js/SomeLibrary.ts␊
        10:0  error  Parsing error: '}' expected␊
      ␊
      ✖ 1 problem (1 error, 0 warnings)␊
      ␊
      [__:__:__] 'js_myBundle' errored after ____ ms␊
      [__:__:__] ESLint failed with 1 error␊
      [__:__:__] 'js' errored after ____ ms␊
      [__:__:__] 'default' errored after ____ ms␊
      js/SomeLibrary.ts(10,1): error TS1005: '}' expected.␊
      TypeScript: 1 syntax error␊
      TypeScript: emit succeeded (with errors)␊
      [__:__:__] TypeScript: Compilation failed␊
      `,
    }

## Lints TypeScript

> Snapshot 1

    {
      status: 1,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/lints/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__]␊
      __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/lints/js/Component.ts␊
        1:1  error  Replace \`⏎export·function·test(a:\` with \`export·function·test(a:·\`  @swissquote/swissquote/prettier/prettier␊
        3:1  error  Replace \`···return·a·+···\` with \`··return·a·+\`                      @swissquote/swissquote/prettier/prettier␊
      ␊
      __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/lints/js/SomeLibrary.ts␊
        10:15  error  Delete \`⏎·\`  @swissquote/swissquote/prettier/prettier␊
      ␊
      __PATH__/packages/integration/fixtures/crafty-preset-typescript-gulp/lints/js/script.ts␊
         1:1   error    Replace \`⏎import·{\` with \`import·{·\`                   @swissquote/swissquote/prettier/prettier␊
         5:1   error    Replace \`····constructor·\` with \`··constructor\`        @swissquote/swissquote/prettier/prettier␊
         6:5   warning  Unexpected console statement                           no-console␊
         7:1   error    Insert \`·\`                                             @swissquote/swissquote/prettier/prettier␊
        10:5   warning  Unexpected console statement                           no-console␊
        10:17  error    Replace \`·test(·\` with \`test(\`                         @swissquote/swissquote/prettier/prettier␊
        12:34  error    Replace \`·(SomeLibrary)·=>⏎···\` with \`SomeLibrary·=>\`  @swissquote/swissquote/prettier/prettier␊
        16:7   warning  Unexpected console statement                           no-console␊
        17:7   error    Insert \`;\`                                             @swissquote/swissquote/prettier/prettier␊
      ␊
      ✖ 12 problems (9 errors, 3 warnings)␊
        9 errors and 0 warnings potentially fixable with the \`--fix\` option.␊
      ␊
      [__:__:__] 'js_myBundle' errored after ____ ms␊
      [__:__:__] ESLint failed with 9 errors␊
      [__:__:__] 'js' errored after ____ ms␊
      [__:__:__] 'default' errored after ____ ms␊
      `,
    }
