# Snapshot report for `__tests__/crafty-preset-swc-gulp.js`

The actual snapshot is saved in `crafty-preset-swc-gulp.js.snap`.

Generated by [AVA](https://avajs.dev).

## Compiles JavaScript

> Snapshot 1

    {
      status: 0,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/compiles/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__] Finished 'js_myBundle' after ____ ms␊
      [__:__:__] Finished 'js' after ____ ms␊
      [__:__:__] Finished 'default' after ____ ms␊
      `,
    }

> Snapshot 2

    `import"./otherfile";class Test{sayHi(){console.log(\`Hello ${this.name} !\`)}constructor(t){this.name=t}}const test=new Test("Stéphane");test.sayHi();␊
    //# sourceMappingURL=script.js.map␊
    `

> Snapshot 3

    `setTimeout((()=>{console.log("Welcome to this website")}),1e3);␊
    //# sourceMappingURL=otherfile.js.map␊
    `

## Compiles JavaScript, keeps runtime external

> Snapshot 1

    {
      status: 0,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/compiles-import-runtime/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__] Finished 'js_myBundle' after ____ ms␊
      [__:__:__] Finished 'js' after ____ ms␊
      [__:__:__] Finished 'default' after ____ ms␊
      `,
    }

> Snapshot 2

    `import * as swcHelpers from "@swc/helpers";␊
    import regeneratorRuntime from "regenerator-runtime";␊
    /* global test */ import "./otherfile";␊
    var Test = /*#__PURE__*/ function() {␊
        "use strict";␊
        function Test(name) {␊
            swcHelpers.classCallCheck(this, Test);␊
            this.name = name;␊
        }␊
        swcHelpers.createClass(Test, [␊
            {␊
                key: "sayHi",␊
                value: function sayHi() {␊
                    return swcHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee() {␊
                        return regeneratorRuntime.wrap(function _callee$(_ctx) {␊
                            while(1)switch(_ctx.prev = _ctx.next){␊
                                case 0:␊
                                    //eslint-disable-next-line no-console␊
                                    console.log("Hello ".concat(this.name, " !"));␊
                                    _ctx.next = 3;␊
                                    return Promise.resolve();␊
                                case 3:␊
                                case "end":␊
                                    return _ctx.stop();␊
                            }␊
                        }, _callee, this);␊
                    }).bind(this))();␊
                }␊
            }␊
        ]);␊
        return Test;␊
    }();␊
    var test = new Test("St\\xe9phane");␊
    test.sayHi();␊
    ␊
    //# sourceMappingURL=script.js.map␊
    `

> Snapshot 3

    `setTimeout(function() {␊
        //eslint-disable-next-line no-console␊
        console.log("Welcome to this website");␊
    }, 1000);␊
    ␊
    //# sourceMappingURL=otherfile.js.map␊
    `

## Compiles JavaScript, new features transpiled

> Snapshot 1

    {
      status: 0,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/compiles-new-features/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__] Finished 'js_myBundle' after ____ ms␊
      [__:__:__] Finished 'js' after ____ ms␊
      [__:__:__] Finished 'default' after ____ ms␊
      `,
    }

> Snapshot 2

    `import regeneratorRuntime from "regenerator-runtime";␊
    /* global test */ import "./otherfile";␊
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {␊
        try {␊
            var info = gen[key](arg);␊
            var value = info.value;␊
        } catch (error) {␊
            reject(error);␊
            return;␊
        }␊
        if (info.done) {␊
            resolve(value);␊
        } else {␊
            Promise.resolve(value).then(_next, _throw);␊
        }␊
    }␊
    function _asyncToGenerator(fn) {␊
        return function() {␊
            var self = this, args = arguments;␊
            return new Promise(function(resolve, reject) {␊
                var gen = fn.apply(self, args);␊
                function _next(value) {␊
                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);␊
                }␊
                function _throw(err) {␊
                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);␊
                }␊
                _next(undefined);␊
            });␊
        };␊
    }␊
    function _classCallCheck(instance, Constructor) {␊
        if (!(instance instanceof Constructor)) {␊
            throw new TypeError("Cannot call a class as a function");␊
        }␊
    }␊
    function _defineProperties(target, props) {␊
        for(var i = 0; i < props.length; i++){␊
            var descriptor = props[i];␊
            descriptor.enumerable = descriptor.enumerable || false;␊
            descriptor.configurable = true;␊
            if ("value" in descriptor) descriptor.writable = true;␊
            Object.defineProperty(target, descriptor.key, descriptor);␊
        }␊
    }␊
    function _createClass(Constructor, protoProps, staticProps) {␊
        if (protoProps) _defineProperties(Constructor.prototype, protoProps);␊
        if (staticProps) _defineProperties(Constructor, staticProps);␊
        return Constructor;␊
    }␊
    var Test = /*#__PURE__*/ function() {␊
        "use strict";␊
        function Test(name) {␊
            _classCallCheck(this, Test);␊
            this.name = name;␊
        }␊
        _createClass(Test, [␊
            {␊
                key: "sayHi",␊
                value: function sayHi() {␊
                    return _asyncToGenerator(regeneratorRuntime.mark(function _callee() {␊
                        return regeneratorRuntime.wrap(function _callee$(_ctx) {␊
                            while(1)switch(_ctx.prev = _ctx.next){␊
                                case 0:␊
                                    //eslint-disable-next-line no-console␊
                                    console.log("Hello ".concat(this.name, " !"));␊
                                    _ctx.next = 3;␊
                                    return Promise.resolve();␊
                                case 3:␊
                                case "end":␊
                                    return _ctx.stop();␊
                            }␊
                        }, _callee, this);␊
                    }).bind(this))();␊
                }␊
            }␊
        ]);␊
        return Test;␊
    }();␊
    var test = new Test("St\\xe9phane");␊
    test.sayHi();␊
    ␊
    //# sourceMappingURL=script.js.map␊
    `

> Snapshot 3

    `setTimeout(function() {␊
        //eslint-disable-next-line no-console␊
        console.log("Welcome to this website");␊
    }, 1000);␊
    ␊
    //# sourceMappingURL=otherfile.js.map␊
    `

## Fails gracefully on broken markup

> Snapshot 1

    {
      status: 1,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/fails/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__]␊
      __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/fails/js/script.js␊
        14:6  error  Parsing error: Unexpected token (14:6)␊
      ␊
      ✖ 1 problem (1 error, 0 warnings)␊
      ␊
      [__:__:__] 'js_myBundle' errored after ____ ms␊
      [__:__:__] ESLint failed with 1 error␊
      [__:__:__] 'js' errored after ____ ms␊
      [__:__:__] 'default' errored after ____ ms␊
      `,
    }

## Compiles JavaScript and concatenates

> Snapshot 1

    {
      status: 0,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/concatenates/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__] Finished 'js_myBundle' after ____ ms␊
      [__:__:__] Finished 'js' after ____ ms␊
      [__:__:__] Finished 'default' after ____ ms␊
      `,
    }

> Snapshot 2

    `setTimeout((()=>{console.log("Welcome to this website")}),1e3);class Test{sayHi(){console.log(\`Hello ${this.name} !\`)}constructor(e){this.name=e}}const test=new Test("Stéphane");test.sayHi();␊
    //# sourceMappingURL=myBundle.min.js.map␊
    `

## Lints JavaScript

> Snapshot 1

    {
      status: 1,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/lints-es5/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__]␊
      __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/lints-es5/js/script.js␊
        3:14  error  Replace \`·(one,\` with \`(one,·\`       @swissquote/swissquote/prettier/prettier␊
        4:1   error  Delete \`·\`                           @swissquote/swissquote/prettier/prettier␊
        7:23  error  Replace \`⏎\` with \`·\`                 @swissquote/swissquote/prettier/prettier␊
        9:12  error  Expected '===' and instead saw '=='  eqeqeq␊
      ␊
      ✖ 4 problems (4 errors, 0 warnings)␊
        3 errors and 0 warnings potentially fixable with the \`--fix\` option.␊
      ␊
      [__:__:__] 'js_myBundle' errored after ____ ms␊
      [__:__:__] ESLint failed with 4 errors␊
      [__:__:__] 'js' errored after ____ ms␊
      [__:__:__] 'default' errored after ____ ms␊
      `,
    }

## Lints JavaScript, doesn't fail in development

> Snapshot 1

    {
      status: 0,
      stdall: `␊
      [__:__:__] Starting Crafty __version__...␊
      [__:__:__] Files will be stored in:␊
                  js: __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/lints-es5-dev/dist/js␊
      [__:__:__] Starting 'default' ...␊
      [__:__:__] Starting 'js' ...␊
      [__:__:__] Starting 'js_myBundle' ...␊
      [__:__:__]␊
      __PATH__/packages/integration/fixtures/crafty-preset-swc-gulp/lints-es5-dev/js/script.js␊
        3:14  warning  Replace \`·(one,\` with \`(one,·\`  @swissquote/swissquote/prettier/prettier␊
        4:1   warning  Delete \`·\`                      @swissquote/swissquote/prettier/prettier␊
        7:23  warning  Replace \`⏎\` with \`·\`            @swissquote/swissquote/prettier/prettier␊
      ␊
      ✖ 3 problems (0 errors, 3 warnings)␊
        0 errors and 3 warnings potentially fixable with the \`--fix\` option.␊
      ␊
      [__:__:__] Finished 'js_myBundle' after ____ ms␊
      [__:__:__] Finished 'js' after ____ ms␊
      [__:__:__] Finished 'default' after ____ ms␊
      `,
    }
