// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Compiles CSS within webpack 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/compiles/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/compiles/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                           status
  1 kB  0        multi ./js/app.js                built
  1 kB  1        ./css/style.scss                 built
  1 kB  2        postcss-loader!./css/style.scss  built
  1 kB  6        ./js/app.js + 1 modules          built

  size  name     asset                            status
  1 kB  default  myBundle.min.js                  emitted
  1 kB  default  myBundle.min.js.map              emitted

  (3 modules hidden)

  Compiled successfully!
  Δt ____ms

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;

exports[`Compiles CSS within webpack 2`] = `
"(function(e,t){if(\\"object\\"===typeof exports&&\\"object\\"===typeof module)module.exports=t();else if(\\"function\\"===typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)(\\"object\\"===typeof exports?exports:e)[n]=r[n]}})(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:false,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=true,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:n})},r.r=function(e){\\"undefined\\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\"Module\\"}),Object.defineProperty(e,\\"__esModule\\",{value:true})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\\"object\\"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\\"default\\",{enumerable:true,value:e}),2&t&&\\"string\\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\\"a\\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\\"\\",r(r.s=0)}([function(e,t,r){e.exports=r(6)},function(e,t,r){var n=r(2);var o;\\"string\\"===typeof n&&(n=[[e.i,n,\\"\\"]]);var i={hmr:true};i.transform=o,i.insertInto=void 0;r(4)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(false),t.push([e.i,\\"a{color:#00f}.Child{background:#000}.Parent{background:#fff}.Parent--before{color:#333}.Parent--after{color:#eee}.Button{color:orange}:root{--color: #f00}.Menu{width:800px}.MenuLink{color:red;color:var(--color);background:#056ef0;width:200px}\\",\\"\\"])},function(e,t){function r(e,t){var r=e[1]||\\"\\";var o=e[3];if(!o)return r;if(t&&\\"function\\"===typeof btoa){var i=n(o);var a=o.sources.map(function(e){return\\"/*# sourceURL=\\"+o.sourceRoot+e+\\" */\\"});return[r].concat(a).concat([i]).join(\\"\\\\n\\")}return[r].join(\\"\\\\n\\")}function n(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));var r=\\"sourceMappingURL=data:application/json;charset=utf-8;base64,\\"+t;return\\"/*# \\"+r+\\" */\\"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?\\"@media \\"+t[2]+\\"{\\"+n+\\"}\\":n}).join(\\"\\")},t.i=function(e,r){\\"string\\"===typeof e&&(e=[[null,e,\\"\\"]]);var n={};for(var o=0;o<this.length;o++){var i=this[o][0];\\"number\\"===typeof i&&(n[i]=true)}for(o=0;o<e.length;o++){var a=e[o];\\"number\\"===typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]=\\"(\\"+a[2]+\\") and (\\"+r+\\")\\"),t.push(a))}},t}},function(e,t,r){var n={};var o=function(e){var t;return function(){return\\"undefined\\"===typeof t&&(t=e.apply(this,arguments)),t}};var i=o(function(){return window&&document&&document.all&&!window.atob});var a=function(e,t){if(t)return t.querySelector(e);return document.querySelector(e)};var u=function(e){var t={};return function(e,r){if(\\"function\\"===typeof e)return e();if(\\"undefined\\"===typeof t[e]){var n=a.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}();var f=null;var s=0;var c=[];var l=r(5);function p(e,t){for(var r=0;r<e.length;r++){var o=e[r];var i=n[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(w(o.parts[a],t))}else{var u=[];for(a=0;a<o.parts.length;a++)u.push(w(o.parts[a],t));n[o.id]={id:o.id,refs:1,parts:u}}}}function d(e,t){var r=[];var n={};for(var o=0;o<e.length;o++){var i=e[o];var a=t.base?i[0]+t.base:i[0];var u=i[1];var f=i[2];var s=i[3];var c={css:u,media:f,sourceMap:s};n[a]?n[a].parts.push(c):r.push(n[a]={id:a,parts:[c]})}return r}function v(e,t){var r=u(e.insertInto);if(!r)throw new Error(\\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\\");var n=c[c.length-1];if(\\"top\\"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else if(\\"bottom\\"===e.insertAt)r.appendChild(t);else{if(\\"object\\"!==typeof e.insertAt||!e.insertAt.before)throw new Error(\\"[Style Loader]\\\\n\\\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\\\n Must be 'top', 'bottom', or Object.\\\\n (https://github.com/webpack-contrib/style-loader#insertat)\\\\n\\");var o=u(e.insertAt.before,r);r.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return false;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function b(e){var t=document.createElement(\\"style\\");if(void 0===e.attrs.type&&(e.attrs.type=\\"text/css\\"),void 0===e.attrs.nonce){var r=g();r&&(e.attrs.nonce=r)}return m(t,e.attrs),v(e,t),t}function y(e){var t=document.createElement(\\"link\\");return void 0===e.attrs.type&&(e.attrs.type=\\"text/css\\"),e.attrs.rel=\\"stylesheet\\",m(t,e.attrs),v(e,t),t}function m(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function g(){return r.nc}function w(e,t){var r,n,o,i;if(t.transform&&e.css){if(i=t.transform(e.css),!i)return function(){};e.css=i}if(t.singleton){var a=s++;r=f||(f=b(t)),n=j.bind(null,r,a,false),o=j.bind(null,r,a,true)}else e.sourceMap&&\\"function\\"===typeof URL&&\\"function\\"===typeof URL.createObjectURL&&\\"function\\"===typeof URL.revokeObjectURL&&\\"function\\"===typeof Blob&&\\"function\\"===typeof btoa?(r=y(t),n=O.bind(null,r,t),o=function(){h(r),r.href&&URL.revokeObjectURL(r.href)}):(r=b(t),n=U.bind(null,r),o=function(){h(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if(\\"undefined\\"!==typeof DEBUG&&DEBUG&&\\"object\\"!==typeof document)throw new Error(\\"The style-loader cannot be used in a non-browser environment\\");t=t||{},t.attrs=\\"object\\"===typeof t.attrs?t.attrs:{},t.singleton||\\"boolean\\"===typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto=\\"head\\"),t.insertAt||(t.insertAt=\\"bottom\\");var r=d(e,t);return p(r,t),function(e){var o=[];for(var i=0;i<r.length;i++){var a=r[i];var u=n[a.id];u.refs--,o.push(u)}if(e){var f=d(e,t);p(f,t)}for(i=0;i<o.length;i++){u=o[i];if(0===u.refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete n[u.id]}}}};var x=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join(\\"\\\\n\\")}}();function j(e,t,r,n){var o=r?\\"\\":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o);var a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function U(e,t){var r=t.css;var n=t.media;if(n&&e.setAttribute(\\"media\\",n),e.styleSheet)e.styleSheet.cssText=r;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function O(e,t,r){var n=r.css;var o=r.sourceMap;var i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=l(n)),o&&(n+=\\"\\\\n/*# sourceMappingURL=data:application/json;base64,\\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\\" */\\");var a=new Blob([n],{type:\\"text/css\\"});var u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},function(e,t){e.exports=function(e){var t=\\"undefined\\"!==typeof window&&window.location;if(!t)throw new Error(\\"fixUrls requires window.location\\");if(!e||\\"string\\"!==typeof e)return e;var r=t.protocol+\\"//\\"+t.host;var n=r+t.pathname.replace(/\\\\/[^\\\\/]*$/,\\"/\\");var o=e.replace(/url\\\\s*\\\\(((?:[^)(]|\\\\((?:[^)(]+|\\\\([^)(]*\\\\))*\\\\))*)\\\\)/gi,function(e,t){var o=t.trim().replace(/^\\"(.*)\\"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\\\\/\\\\/|https:\\\\/\\\\/|file:\\\\/\\\\/\\\\/|\\\\s*$)/i.test(o))return e;var i;return i=0===o.indexOf(\\"//\\")?o:0===o.indexOf(\\"/\\")?r+o:n+o.replace(/^\\\\.\\\\//,\\"\\"),\\"url(\\"+JSON.stringify(i)+\\")\\"});return o}},function(e,t,r){\\"use strict\\";function n(e,t){if(!(e instanceof t))throw new TypeError(\\"Cannot call a class as a function\\")}r.r(t);r(1);r.d(t,\\"default\\",function(){return o});var o=function e(){n(this,e)}}])});
//# sourceMappingURL=myBundle.min.js.map"
`;

exports[`Compiles CSS within webpack, extracts CSS 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/extract/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/extract/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                        status
  1 kB  0        multi ./js/app.js             built
  1 kB  1        ./css/style.scss              built
  1 kB  3        ./js/app.js + 1 modules       built

  size  name     asset                         status
  1 kB  default  myBundle-default.min.css      emitted
  1 kB  default  myBundle-default.min.css.map  emitted
  1 kB  default  myBundle.min.js               emitted
  1 kB  default  myBundle.min.js.map           emitted

  (1 module hidden)

  Compiled successfully!
  Δt ____ms

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;

exports[`Compiles CSS within webpack, extracts CSS 2`] = `
"(function(e,t){if(\\"object\\"===typeof exports&&\\"object\\"===typeof module)module.exports=t();else if(\\"function\\"===typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\\"object\\"===typeof exports?exports:e)[r]=n[r]}})(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:false,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=true,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:r})},n.r=function(e){\\"undefined\\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\"Module\\"}),Object.defineProperty(e,\\"__esModule\\",{value:true})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\\"object\\"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\\"default\\",{enumerable:true,value:e}),2&t&&\\"string\\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\\"a\\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\\"\\",n(n.s=0)}([function(e,t,n){e.exports=n(3)},function(e,t,n){},,function(e,t,n){\\"use strict\\";function r(e,t){if(!(e instanceof t))throw new TypeError(\\"Cannot call a class as a function\\")}n.r(t);n(1);n.d(t,\\"default\\",function(){return o});var o=function e(){r(this,e)}}])});
//# sourceMappingURL=myBundle.min.js.map"
`;

exports[`Compiles CSS within webpack, extracts CSS 3`] = `
"a{color:#00f}.Child{background:#000}.Parent{background:#fff}.Parent--before{color:#333}.Parent--after{color:#eee}.Button{color:orange}:root{--color: #f00}.Menu{width:800px}.MenuLink{color:red;color:var(--color);background:#056ef0;width:200px}

/*# sourceMappingURL=myBundle-default.min.css.map*/"
`;

exports[`Fails gracefully on broken markup 1`] = `
Object {
  "status": 1,
  "stderr": "[__:__:__] 'js_myBundle' errored after ____ ms
[__:__:__] Error: Webpack compilation failed
    ...stacktrace...
[__:__:__] 'js' errored after ____ ms
[__:__:__] 'default' errored after ____ ms
",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/fails/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/fails/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name  module                           status
  1 kB  0     multi ./js/app.js                built
  1 kB  1     ./css/style.scss                 built
  1 kB  2     postcss-loader!./css/style.scss  built failed ✖
  1 kB  5     ./js/app.js + 1 modules          built

  (2 assets, 2 modules hidden)

  Failed to compile.

./css/style.scss (__PATH__/node_modules/css-loader??ref--4-1!__PATH__/node_modules/postcss-loader/src??ref--4-2!./css/style.scss)
Module build failed (from __PATH__/node_modules/postcss-loader/src/index.js):
SyntaxError

(17:1) Unexpected }

  15 |         color: #eee;
  16 |     }
> 17 | }
     | ^
  18 |
  19 |

 @ ./css/style.scss 2:14-169
 @ ./js/app.js
 @ multi ./js/app.js

  Δt ____ms ✖ 1 problem (1 error, 0 warnings)

",
}
`;
