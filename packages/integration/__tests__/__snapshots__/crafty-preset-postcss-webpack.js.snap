// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Compiles CSS within webpack 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/compiles/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/compiles/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                           status
  1 kB  0        multi ./js/app.js                built
  1 kB  1        ./css/style.scss                 built
  1 kB  2        postcss-loader!./css/style.scss  built
  1 kB  6        ./js/app.js + 1 modules          built

  size  name     asset                            status
  1 kB  default  myBundle.min.js                  emitted
  1 kB  default  myBundle.min.js.map              emitted

  (3 modules hidden)

  Compiled successfully!
  Δt ____ms

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;

exports[`Compiles CSS within webpack 2`] = `
"(function(r,n){if(\\"object\\"===typeof exports&&\\"object\\"===typeof module)module.exports=n();else if(\\"function\\"===typeof define&&define.amd)define([],n);else{var t=n();for(var e in t)(\\"object\\"===typeof exports?exports:r)[e]=t[e]}})(window,function(){return function(r){var n={};function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:false,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=true,o.exports}return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{enumerable:true,get:e})},t.r=function(r){\\"undefined\\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\\"Module\\"}),Object.defineProperty(r,\\"__esModule\\",{value:true})},t.t=function(r,n){if(1&n&&(r=t(r)),8&n)return r;if(4&n&&\\"object\\"===typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,\\"default\\",{enumerable:true,value:r}),2&n&&\\"string\\"!=typeof r)for(var o in r)t.d(e,o,function(n){return r[n]}.bind(null,o));return e},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,\\"a\\",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p=\\"\\",t(t.s=0)}([function(r,n,t){r.exports=t(6)},function(r,n,t){var e=t(2);var o;\\"string\\"===typeof e&&(e=[[r.i,e,\\"\\"]]);var i={hmr:true};i.transform=o,i.insertInto=void 0;t(4)(e,i);e.locals&&(r.exports=e.locals)},function(r,n,t){n=r.exports=t(3)(false),n.push([r.i,\\"a{color:#00f}.Child{background:#000}.Parent{background:#fff}.Parent--before{color:#333}.Parent--after{color:#eee}.Button{color:orange}.Menu{width:800px}.MenuLink{color:red;background:#056ef0;width:200px}\\",\\"\\"])},function(r,n){function t(r,n){var t=r[1]||\\"\\";var o=r[3];if(!o)return t;if(n&&\\"function\\"===typeof btoa){var i=e(o);var a=o.sources.map(function(r){return\\"/*# sourceURL=\\"+o.sourceRoot+r+\\" */\\"});return[t].concat(a).concat([i]).join(\\"\\\\n\\")}return[t].join(\\"\\\\n\\")}function e(r){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r))));var t=\\"sourceMappingURL=data:application/json;charset=utf-8;base64,\\"+n;return\\"/*# \\"+t+\\" */\\"}r.exports=function(r){var n=[];return n.toString=function(){return this.map(function(n){var e=t(n,r);return n[2]?\\"@media \\"+n[2]+\\"{\\"+e+\\"}\\":e}).join(\\"\\")},n.i=function(r,t){\\"string\\"===typeof r&&(r=[[null,r,\\"\\"]]);var e={};for(var o=0;o<this.length;o++){var i=this[o][0];\\"number\\"===typeof i&&(e[i]=true)}for(o=0;o<r.length;o++){var a=r[o];\\"number\\"===typeof a[0]&&e[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]=\\"(\\"+a[2]+\\") and (\\"+t+\\")\\"),n.push(a))}},n}},function(r,n,t){var e={};var o=function(r){var n;return function(){return\\"undefined\\"===typeof n&&(n=r.apply(this,arguments)),n}};var i=o(function(){return window&&document&&document.all&&!window.atob});var a=function(r,n){if(n)return n.querySelector(r);return document.querySelector(r)};var f=function(r){var n={};return function(r,t){if(\\"function\\"===typeof r)return r();if(\\"undefined\\"===typeof n[r]){var e=a.call(this,r,t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(r){e=null}n[r]=e}return n[r]}}();var u=null;var c=0;var s=[];var p=t(5);function v(r,n){for(var t=0;t<r.length;t++){var o=r[t];var i=e[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(x(o.parts[a],n))}else{var f=[];for(a=0;a<o.parts.length;a++)f.push(x(o.parts[a],n));e[o.id]={id:o.id,refs:1,parts:f}}}}function d(r,n){var t=[];var e={};for(var o=0;o<r.length;o++){var i=r[o];var a=n.base?i[0]+n.base:i[0];var f=i[1];var u=i[2];var c=i[3];var s={css:f,media:u,sourceMap:c};e[a]?e[a].parts.push(s):t.push(e[a]={id:a,parts:[s]})}return t}function l(r,n){var t=f(r.insertInto);if(!t)throw new Error(\\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\\");var e=s[s.length-1];if(\\"top\\"===r.insertAt)e?e.nextSibling?t.insertBefore(n,e.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),s.push(n);else if(\\"bottom\\"===r.insertAt)t.appendChild(n);else{if(\\"object\\"!==typeof r.insertAt||!r.insertAt.before)throw new Error(\\"[Style Loader]\\\\n\\\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\\\n Must be 'top', 'bottom', or Object.\\\\n (https://github.com/webpack-contrib/style-loader#insertat)\\\\n\\");var o=f(r.insertAt.before,t);t.insertBefore(n,o)}}function h(r){if(null===r.parentNode)return false;r.parentNode.removeChild(r);var n=s.indexOf(r);n>=0&&s.splice(n,1)}function b(r){var n=document.createElement(\\"style\\");if(void 0===r.attrs.type&&(r.attrs.type=\\"text/css\\"),void 0===r.attrs.nonce){var t=U();t&&(r.attrs.nonce=t)}return w(n,r.attrs),l(r,n),n}function m(r){var n=document.createElement(\\"link\\");return void 0===r.attrs.type&&(r.attrs.type=\\"text/css\\"),r.attrs.rel=\\"stylesheet\\",w(n,r.attrs),l(r,n),n}function w(r,n){Object.keys(n).forEach(function(t){r.setAttribute(t,n[t])})}function U(){return t.nc}function x(r,n){var t,e,o,i;if(n.transform&&r.css){if(i=\\"function\\"===typeof n.transform?n.transform(r.css):n.transform.default(r.css),!i)return function(){};r.css=i}if(n.singleton){var a=c++;t=u||(u=b(n)),e=R.bind(null,t,a,false),o=R.bind(null,t,a,true)}else r.sourceMap&&\\"function\\"===typeof URL&&\\"function\\"===typeof URL.createObjectURL&&\\"function\\"===typeof URL.revokeObjectURL&&\\"function\\"===typeof Blob&&\\"function\\"===typeof btoa?(t=m(n),e=M.bind(null,t,n),o=function(){h(t),t.href&&URL.revokeObjectURL(t.href)}):(t=b(n),e=g.bind(null,t),o=function(){h(t)});return e(r),function(n){if(n){if(n.css===r.css&&n.media===r.media&&n.sourceMap===r.sourceMap)return;e(r=n)}else o()}}r.exports=function(r,n){if(\\"undefined\\"!==typeof DEBUG&&DEBUG&&\\"object\\"!==typeof document)throw new Error(\\"The style-loader cannot be used in a non-browser environment\\");n=n||{},n.attrs=\\"object\\"===typeof n.attrs?n.attrs:{},n.singleton||\\"boolean\\"===typeof n.singleton||(n.singleton=i()),n.insertInto||(n.insertInto=\\"head\\"),n.insertAt||(n.insertAt=\\"bottom\\");var t=d(r,n);return v(t,n),function(r){var o=[];for(var i=0;i<t.length;i++){var a=t[i];var f=e[a.id];f.refs--,o.push(f)}if(r){var u=d(r,n);v(u,n)}for(i=0;i<o.length;i++){f=o[i];if(0===f.refs){for(var c=0;c<f.parts.length;c++)f.parts[c]();delete e[f.id]}}}};var L=function(){var r=[];return function(n,t){return r[n]=t,r.filter(Boolean).join(\\"\\\\n\\")}}();function R(r,n,t,e){var o=t?\\"\\":e.css;if(r.styleSheet)r.styleSheet.cssText=L(n,o);else{var i=document.createTextNode(o);var a=r.childNodes;a[n]&&r.removeChild(a[n]),a.length?r.insertBefore(i,a[n]):r.appendChild(i)}}function g(r,n){var t=n.css;var e=n.media;if(e&&r.setAttribute(\\"media\\",e),r.styleSheet)r.styleSheet.cssText=t;else{while(r.firstChild)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(t))}}function M(r,n,t){var e=t.css;var o=t.sourceMap;var i=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||i)&&(e=p(e)),o&&(e+=\\"\\\\n/*# sourceMappingURL=data:application/json;base64,\\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\\" */\\");var a=new Blob([e],{type:\\"text/css\\"});var f=r.href;r.href=URL.createObjectURL(a),f&&URL.revokeObjectURL(f)}},function(r,n){r.exports=function(r){var n=\\"undefined\\"!==typeof window&&window.location;if(!n)throw new Error(\\"fixUrls requires window.location\\");if(!r||\\"string\\"!==typeof r)return r;var t=n.protocol+\\"//\\"+n.host;var e=t+n.pathname.replace(/\\\\/[^\\\\/]*$/,\\"/\\");var o=r.replace(/url\\\\s*\\\\(((?:[^)(]|\\\\((?:[^)(]+|\\\\([^)(]*\\\\))*\\\\))*)\\\\)/gi,function(r,n){var o=n.trim().replace(/^\\"(.*)\\"$/,function(r,n){return n}).replace(/^'(.*)'$/,function(r,n){return n});if(/^(#|data:|http:\\\\/\\\\/|https:\\\\/\\\\/|file:\\\\/\\\\/\\\\/|\\\\s*$)/i.test(o))return r;var i;return i=0===o.indexOf(\\"//\\")?o:0===o.indexOf(\\"/\\")?t+o:e+o.replace(/^\\\\.\\\\//,\\"\\"),\\"url(\\"+JSON.stringify(i)+\\")\\"});return o}},function(r,n,t){\\"use strict\\";function e(r,n){if(!(r instanceof n))throw new TypeError(\\"Cannot call a class as a function\\")}t.r(n);t(1);t.d(n,\\"default\\",function(){return o});var o=function r(){e(this,r)}}])});
//# sourceMappingURL=myBundle.min.js.map"
`;

exports[`Compiles CSS within webpack, extracts CSS 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/extract/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/extract/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                        status
  1 kB  0        multi ./js/app.js             built
  1 kB  1        ./css/style.scss              built
  1 kB  2        ./js/app.js + 1 modules       built

  size  name     asset                         status
  1 kB  default  myBundle-default.min.css      emitted
  1 kB  default  myBundle-default.min.css.map  emitted
  1 kB  default  myBundle.min.js               emitted
  1 kB  default  myBundle.min.js.map           emitted

  (1 module hidden)

  Compiled successfully!
  Δt ____ms

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;

exports[`Compiles CSS within webpack, extracts CSS 2`] = `
"(function(e,t){if(\\"object\\"===typeof exports&&\\"object\\"===typeof module)module.exports=t();else if(\\"function\\"===typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\\"object\\"===typeof exports?exports:e)[r]=n[r]}})(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:false,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=true,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:r})},n.r=function(e){\\"undefined\\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\"Module\\"}),Object.defineProperty(e,\\"__esModule\\",{value:true})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\\"object\\"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\\"default\\",{enumerable:true,value:e}),2&t&&\\"string\\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\\"a\\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\\"\\",n(n.s=0)}([function(e,t,n){e.exports=n(2)},function(e,t,n){},function(e,t,n){\\"use strict\\";function r(e,t){if(!(e instanceof t))throw new TypeError(\\"Cannot call a class as a function\\")}n.r(t);n(1);n.d(t,\\"default\\",function(){return o});var o=function e(){r(this,e)}}])});
//# sourceMappingURL=myBundle.min.js.map"
`;

exports[`Compiles CSS within webpack, extracts CSS 3`] = `
"a{color:#00f}.Child{background:#000}.Parent{background:#fff}.Parent--before{color:#333}.Parent--after{color:#eee}.Button{color:orange}.Menu{width:800px}.MenuLink{color:red;background:#056ef0;width:200px}

/*# sourceMappingURL=myBundle-default.min.css.map*/"
`;

exports[`Fails gracefully on broken markup 1`] = `
Object {
  "status": 1,
  "stderr": "[__:__:__] 'js_myBundle' errored after ____ ms
[__:__:__] Error: Webpack compilation failed
    ...stacktrace...
[__:__:__] 'js' errored after ____ ms
[__:__:__] 'default' errored after ____ ms
",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/fails/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/fails/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name  module                           status
  1 kB  0     multi ./js/app.js                built
  1 kB  1     ./css/style.scss                 built
  1 kB  2     postcss-loader!./css/style.scss  built failed ✖
  1 kB  5     ./js/app.js + 1 modules          built

  (2 assets, 2 modules hidden)

  Failed to compile.

./css/style.scss (__PATH__/node_modules/css-loader??ref--4-1!__PATH__/node_modules/postcss-loader/src??ref--4-2!./css/style.scss)
Module build failed (from __PATH__/node_modules/postcss-loader/src/index.js):
SyntaxError

(17:1) Unexpected }

  15 |         color: #eee;
  16 |     }
> 17 | }
     | ^
  18 |
  19 |

 @ ./css/style.scss 2:14-169
 @ ./js/app.js
 @ multi ./js/app.js

  Δt ____ms ✖ 1 problem (1 error, 0 warnings)

",
}
`;
