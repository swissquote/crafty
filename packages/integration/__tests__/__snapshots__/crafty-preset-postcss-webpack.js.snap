// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Compiles CSS within webpack 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/compiles/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/compiles/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                                         status
  1 kB  226      postcss-loader!./css/style.scss                built
  1 kB  326      (node_modules)/css-loader/dist/runtime/api.js  built
  1 kB  333      (node_modules)/style-loader/lib/addStyles.js   built
  1 kB  565      ./css/style.scss                               built
  1 kB  671      ./js/app.js + 1 modules                        built
  1 kB  800      (node_modules)/style-loader/lib/urls.js        built

  size  name     asset                                          status
  1 kB  default  myBundle.min.js                                emitted
  1 kB  default  myBundle.min.js.map                            emitted

  (4 modules hidden)

  Compiled successfully!
  Δt ____ms

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;

exports[`Compiles CSS within webpack 2`] = `
"(function(t,e){if(\\"object\\"===typeof exports&&\\"object\\"===typeof module)module.exports=e();else if(\\"function\\"===typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)(\\"object\\"===typeof exports?exports:t)[n]=r[n]}})(window,function(){return function(t,e){\\"use strict\\";var r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:false,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=true,o.exports}function o(){return n(671)}return e(n),o()}({226:function(t,e,r){e=t.exports=r(326)(false),e.push([t.i,\\"a{color:#00f}.Child{background:#000}.Parent{background:#fff}.Parent--before{color:#333}.Parent--after{color:#eee}.Button{color:orange}.Menu{width:800px}.MenuLink{color:red;background:#056ef0;width:200px}\\",\\"\\"])},326:function(t){\\"use strict\\";function e(t,e){var n=t[1]||\\"\\";var o=t[3];if(!o)return n;if(e&&\\"function\\"===typeof btoa){var i=r(o);var a=o.sources.map(function(t){return\\"/*# sourceURL=\\"+o.sourceRoot+t+\\" */\\"});return[n].concat(a).concat([i]).join(\\"\\\\n\\")}return[n].join(\\"\\\\n\\")}function r(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t))));var r=\\"sourceMappingURL=data:application/json;charset=utf-8;base64,\\"+e;return\\"/*# \\"+r+\\" */\\"}t.exports=function(t){var r=[];return r.toString=function(){return this.map(function(r){var n=e(r,t);return r[2]?\\"@media \\"+r[2]+\\"{\\"+n+\\"}\\":n}).join(\\"\\")},r.i=function(t,e){\\"string\\"===typeof t&&(t=[[null,t,\\"\\"]]);var n={};for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=true)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&n[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]=\\"(\\"+a[2]+\\") and (\\"+e+\\")\\"),r.push(a))}},r}},333:function(t,e,r){var n={};var o=function(t){var e;return function(){return\\"undefined\\"===typeof e&&(e=t.apply(this,arguments)),e}};var i=o(function(){return window&&document&&document.all&&!window.atob});var a=function(t,e){if(e)return e.querySelector(t);return document.querySelector(t)};var u=function(t){var e={};return function(t,r){if(\\"function\\"===typeof t)return t();if(\\"undefined\\"===typeof e[t]){var n=a.call(this,t,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}();var s=null;var f=0;var c=[];var l=r(800);function p(t,e){for(var r=0;r<t.length;r++){var o=t[r];var i=n[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(w(o.parts[a],e))}else{var u=[];for(a=0;a<o.parts.length;a++)u.push(w(o.parts[a],e));n[o.id]={id:o.id,refs:1,parts:u}}}}function d(t,e){var r=[];var n={};for(var o=0;o<t.length;o++){var i=t[o];var a=e.base?i[0]+e.base:i[0];var u=i[1];var s=i[2];var f=i[3];var c={css:u,media:s,sourceMap:f};n[a]?n[a].parts.push(c):r.push(n[a]={id:a,parts:[c]})}return r}function v(t,e){var r=u(t.insertInto);if(!r)throw new Error(\\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\\");var n=c[c.length-1];if(\\"top\\"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),c.push(e);else if(\\"bottom\\"===t.insertAt)r.appendChild(e);else{if(\\"object\\"!==typeof t.insertAt||!t.insertAt.before)throw new Error(\\"[Style Loader]\\\\n\\\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\\\n Must be 'top', 'bottom', or Object.\\\\n (https://github.com/webpack-contrib/style-loader#insertat)\\\\n\\");var o=u(t.insertAt.before,r);r.insertBefore(e,o)}}function h(t){if(null===t.parentNode)return false;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function b(t){var e=document.createElement(\\"style\\");if(void 0===t.attrs.type&&(t.attrs.type=\\"text/css\\"),void 0===t.attrs.nonce){var r=g();r&&(t.attrs.nonce=r)}return m(e,t.attrs),v(t,e),e}function y(t){var e=document.createElement(\\"link\\");return void 0===t.attrs.type&&(t.attrs.type=\\"text/css\\"),t.attrs.rel=\\"stylesheet\\",m(e,t.attrs),v(t,e),e}function m(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function g(){return r.nc}function w(t,e){var r,n,o,i;if(e.transform&&t.css){if(i=\\"function\\"===typeof e.transform?e.transform(t.css):e.transform.default(t.css),!i)return function(){};t.css=i}if(e.singleton){var a=f++;r=s||(s=b(e)),n=j.bind(null,r,a,false),o=j.bind(null,r,a,true)}else t.sourceMap&&\\"function\\"===typeof URL&&\\"function\\"===typeof URL.createObjectURL&&\\"function\\"===typeof URL.revokeObjectURL&&\\"function\\"===typeof Blob&&\\"function\\"===typeof btoa?(r=y(e),n=O.bind(null,r,e),o=function(){h(r),r.href&&URL.revokeObjectURL(r.href)}):(r=b(e),n=U.bind(null,r),o=function(){h(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if(\\"undefined\\"!==typeof DEBUG&&DEBUG&&\\"object\\"!==typeof document)throw new Error(\\"The style-loader cannot be used in a non-browser environment\\");e=e||{},e.attrs=\\"object\\"===typeof e.attrs?e.attrs:{},e.singleton||\\"boolean\\"===typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto=\\"head\\"),e.insertAt||(e.insertAt=\\"bottom\\");var r=d(t,e);return p(r,e),function(t){var o=[];for(var i=0;i<r.length;i++){var a=r[i];var u=n[a.id];u.refs--,o.push(u)}if(t){var s=d(t,e);p(s,e)}for(i=0;i<o.length;i++){u=o[i];if(0===u.refs){for(var f=0;f<u.parts.length;f++)u.parts[f]();delete n[u.id]}}}};var x=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join(\\"\\\\n\\")}}();function j(t,e,r,n){var o=r?\\"\\":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var i=document.createTextNode(o);var a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function U(t,e){var r=e.css;var n=e.media;if(n&&t.setAttribute(\\"media\\",n),t.styleSheet)t.styleSheet.cssText=r;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function O(t,e,r){var n=r.css;var o=r.sourceMap;var i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(n=l(n)),o&&(n+=\\"\\\\n/*# sourceMappingURL=data:application/json;base64,\\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\\" */\\");var a=new Blob([n],{type:\\"text/css\\"});var u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},565:function(t,e,r){var n=r(226);var o;\\"string\\"===typeof n&&(n=[[t.i,n,\\"\\"]]);var i={hmr:true};i.transform=o,i.insertInto=void 0;r(333)(n,i);n.locals&&(t.exports=n.locals)},671:function(t,e,r){\\"use strict\\";function n(t,e){if(!(t instanceof e))throw new TypeError(\\"Cannot call a class as a function\\")}r.r(e);r(565);r.d(e,\\"default\\",function(){return o});var o=function t(){n(this,t)}},800:function(t){t.exports=function(t){var e=\\"undefined\\"!==typeof window&&window.location;if(!e)throw new Error(\\"fixUrls requires window.location\\");if(!t||\\"string\\"!==typeof t)return t;var r=e.protocol+\\"//\\"+e.host;var n=r+e.pathname.replace(/\\\\/[^\\\\/]*$/,\\"/\\");var o=t.replace(/url\\\\s*\\\\(((?:[^)(]|\\\\((?:[^)(]+|\\\\([^)(]*\\\\))*\\\\))*)\\\\)/gi,function(t,e){var o=e.trim().replace(/^\\"(.*)\\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\\\\/\\\\/|https:\\\\/\\\\/|file:\\\\/\\\\/\\\\/|\\\\s*$)/i.test(o))return t;var i;return i=0===o.indexOf(\\"//\\")?o:0===o.indexOf(\\"/\\")?r+o:n+o.replace(/^\\\\.\\\\//,\\"\\"),\\"url(\\"+JSON.stringify(i)+\\")\\"});return o}}},function(t){\\"use strict\\";!function(){t.r=function(t){\\"undefined\\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\\"Module\\"}),Object.defineProperty(t,\\"__esModule\\",{value:true})}}(),function(){var e=Object.prototype.hasOwnProperty;t.d=function(t,r,n){e.call(t,r)||Object.defineProperty(t,r,{enumerable:true,get:n})}}(),function(){t.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if(4&r&&\\"object\\"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,\\"default\\",{enumerable:true,value:e}),2&r&&\\"string\\"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\\"a\\",r),r}}()})});
//# sourceMappingURL=myBundle.min.js.map"
`;

exports[`Compiles CSS within webpack, extracts CSS 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/extract/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/extract/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                        status
  1 kB  0        multi ./js/app.js             built
  1 kB  1        ./css/style.scss              built
  1 kB  2        ./js/app.js + 1 modules       built

  size  name     asset                         status
  1 kB  default  myBundle-default.min.css      emitted
  1 kB  default  myBundle-default.min.css.map  emitted
  1 kB  default  myBundle.min.js               emitted
  1 kB  default  myBundle.min.js.map           emitted

  (1 module hidden)

  Compiled successfully!
  Δt ____ms

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;

exports[`Compiles CSS within webpack, extracts CSS 2`] = `
"(function(e,t){if(\\"object\\"===typeof exports&&\\"object\\"===typeof module)module.exports=t();else if(\\"function\\"===typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\\"object\\"===typeof exports?exports:e)[r]=n[r]}})(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:false,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=true,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:r})},n.r=function(e){\\"undefined\\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\"Module\\"}),Object.defineProperty(e,\\"__esModule\\",{value:true})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\\"object\\"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\\"default\\",{enumerable:true,value:e}),2&t&&\\"string\\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\\"a\\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\\"\\",n(n.s=0)}([function(e,t,n){e.exports=n(2)},function(e,t,n){},function(e,t,n){\\"use strict\\";function r(e,t){if(!(e instanceof t))throw new TypeError(\\"Cannot call a class as a function\\")}n.r(t);n(1);n.d(t,\\"default\\",function(){return o});var o=function e(){r(this,e)}}])});
//# sourceMappingURL=myBundle.min.js.map"
`;

exports[`Compiles CSS within webpack, extracts CSS 3`] = `
"a{color:#00f}.Child{background:#000}.Parent{background:#fff}.Parent--before{color:#333}.Parent--after{color:#eee}.Button{color:orange}.Menu{width:800px}.MenuLink{color:red;background:#056ef0;width:200px}

/*# sourceMappingURL=myBundle-default.min.css.map*/"
`;

exports[`Fails gracefully on broken markup 1`] = `
Object {
  "status": 1,
  "stderr": "[__:__:__] 'js_myBundle' errored after ____ ms
[__:__:__] Error: Webpack compilation failed
    ...stacktrace...
[__:__:__] 'js' errored after ____ ms
[__:__:__] 'default' errored after ____ ms
",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            css: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/fails/dist/css
           js: __PATH__/packages/integration/fixtures/crafty-preset-postcss-webpack/fails/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                                        status
  1 kB  226      postcss-loader!./css/style.scss               built failed ✖
  1 kB  333      (node_modules)/style-loader/lib/addStyles.js  built
  1 kB  565      ./css/style.scss                              built
  1 kB  671      ./js/app.js + 1 modules                       built
  1 kB  800      (node_modules)/style-loader/lib/urls.js       built

  size  name     asset                                         status
  1 kB  default  myBundle.min.js
  1 kB  default  myBundle.min.js.map

  (4 modules hidden)

  Failed to compile.

Syntax error: Unknown word (10:13)
   8 |     @at-root {
   9 |         .Child
> 10 |             background: black;
     |             ^
  11 |         }
  12 |     }

  Δt ____ms ✖ 1 problem (1 error, 0 warnings)

",
}
`;
